<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Game</title>
</head>
<body>
	
	<h1>Game</h1>

	<script src="/socket.io/socket.io.js"></script>
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script>

	  var socket = io();
	
	var state = {
  		upPressed : false,
  		downPressed : false,
  		leftPressed : false,
  		rightPressed : false, 
  	}

  	$('body').keydown(function(e){
  		if(e.which == 38){
  			state.upPressed = true;
  		}else if(e.which == 40){
  			state.downPressed = true;
  		}else if(e.which == 37){
  			state.leftPressed = true;
  		}else if(e.which == 37){
  			state.rightPressed = true;
  		}
  	});

  	$('body').keyup(function(e){
  		if(e.which == 38){
  			state.upPressed = false;
  		}else if(e.which == 40){
  			state.downPressed = false;
  		}else if(e.which == 37){
  			state.leftPressed = false;
  		}else if(e.which == 37){
  			state.rightPressed = false;
  		}
  	});

	  setInterval(function(){
	  	socket.emit('game.event.clientStatus', state);
	  }, 1000);

	  socket.on('game.event.serverStatus', function(msg){
	    console.log(msg);
	  });
	
	</script>
</body>
</html>